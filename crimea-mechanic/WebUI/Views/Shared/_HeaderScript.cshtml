@using Common.Enums
@using WebUI.ProjectConstants
@using WebUI.App_LocalResources
<script>

    @if (ViewData["Token"] != null)
    {
        <text>
            // добавляем ко всем запросам со страницы токен
            $.ajaxPrefilter(function (options) {
                if (!options.beforeSend) {
                    options.beforeSend = function (xhr) {
                        xhr.setRequestHeader('Authorization', 'Bearer @ViewData["Token"]');
                    }
                }
            });
            window.userToken = '@ViewData["Token"]';
        </text>
    }

    window.resource = {

        applicationStates: {
            inSearch: @((long)ApplicationState.InSearch),  
            inProcessing: @((long)ApplicationState.InProcessing),  
            completed: @((long)ApplicationState.Completed),
            rejected: @((long)ApplicationState.Rejected)
        },

        urls: {
            webApiRegistrationUserUrl: '@ConstantsUrls.WebApiRegistrationUserUrl',
            webApiRegistrationCarServiceUrl: '@ConstantsUrls.WebApiRegistrationCarServiceUrl',
            webApiGetCitiesUrl: '@ConstantsUrls.WebApiGetCitiesUrl',
            webApiGetCarServicesUrl: '@ConstantsUrls.WebApiGetCarServicesUrl',
            webApiGetPhotoUrl: '@ConstantsUrls.WebApiGetPhotoUrl',
            webApiGetCarServiceCardUrl: '@ConstantsUrls.WebApiGetGetCarServiceCard("carServiceId")',
            webApiGetRegistrationRequestsUrl: '@ConstantsUrls.WebApiGetRegistrationRequestsUrl',
            webApiGetRegistrationCardUrl: '@ConstantsUrls.WebApiGetRegistrationCardUrl("carServiceId")',
            webApiApproveCarServiceUrl: '@ConstantsUrls.WebApiApproveCarServiceUrl("carServiceId")',
            webApiRejectCarServiceUrl: '@ConstantsUrls.WebApiRejectCarServiceUrl("carServiceId")',
            webApiBlockCarServiceUrl: '@ConstantsUrls.WebApiBlockCarServiceUrl("carServiceId")',
            webApiGetUserCarsUrl: '@ConstantsUrls.WebApiGetUserCarsUrl',
            webApiGetMarksUrl: '@ConstantsUrls.WebApiGetMarksUrl',
            webApiGetModelsUrl: '@ConstantsUrls.WebApiGetModelsUrl("markId")',
            webApiAddCarUrl: '@ConstantsUrls.WebApiAddCarUrl',
            webApiGetCarUrl: '@ConstantsUrls.WebApiGetCarUrl("carId")',
            webApiEditCarUrl: '@ConstantsUrls.WebApiEditCarUrl',
            webApiDeleteCarUrl: '@ConstantsUrls.WebApiDeleteCarUrl("carId")',
            webApiRestoreCarUrl: '@ConstantsUrls.WebApiRestoreCarUrl("carId")',
            webApiGetUserApplicationsUrl: '@ConstantsUrls.WebApiGetUserApplicationsUrl',
            webApiGetApplicationCardForUserUrl: '@ConstantsUrls.WebApiGetApplicationCardForUserUrl("applicationId")',
            webApiDeleteApplicationUrl: '@ConstantsUrls.WebApiDeleteApplicationUrl("applicationId")',
            webApiAcceptOfferUrl: '@ConstantsUrls.WebApiAcceptOfferUrl("offerId")',
            webApiRejectApplicationUrl: '@ConstantsUrls.WebApiRejectApplicationUrl("applicationId")',
            webApiCompleteApplicationUrl: '@ConstantsUrls.WebApiCompleteApplicationUrl("applicationId")',
            webApiGetPoolUrl: '@ConstantsUrls.WebApiGetPoolUrl',
            webApiGetMarksFromPoolUrl: '@ConstantsUrls.WebApiGetMarksFromPoolUrl',
            webApiAddOfferUrl: '@ConstantsUrls.WebApiAddOfferUrl',
            webApiDeleteOfferUrl: '@ConstantsUrls.WebApiDeleteOfferUrl("offerId")',
            webApiGetActiveCarsUrl: '@ConstantsUrls.WebApiGetActiveCarsUrl',
            webApiCreateApplicationUrl: '@ConstantsUrls.WebApiCreateApplicationUrl',

            webUiSignInPageUrl: '@Url.Action("SignIn", "Account")',
            webUiCarServiceCardUrl: '@Url.Action("Card", "CarService")',
            webUiRegistrationRequestCardUrl: '@Url.Action("RegistrationRequestCard", "CarService")',
            webUiRegistrationRequestsUrl: '@Url.Action("RegistrationRequests", "CarService")',
            webUiGarageUrl: '@Url.Action("Index", "Garage")',
            webUiUserCarCardUrl: '@Url.Action("Card", "Garage")',
            webUiApplicationCard: '@Url.Action("Card", "Application")',
            webUiApplicationsUrl: '@Url.Action("Index", "Application")'
        },

        texts: {
            success: '@GlobalResources.Success',
            successUserRegistration: '@GlobalResources.SuccessUserRegistration',
            error: '@GlobalResources.Error',
            successCarServiceRegistration: '@GlobalResources.SuccessCarServiceRegistration'
        },

        errors: {
            loginIsEmpty: '@GlobalResources.LoginIsEmpty',
            loginIsNotEmail: '@GlobalResources.LoginIsNotEmail',
            contactNameIsEmpty: '@GlobalResources.ContactNameIsEmpty',
            passwordIsEmpty: '@GlobalResources.PasswordIsEmpty',
            phoneNumberIsEmpty: '@GlobalResources.PhoneNumberIsEmpty',
            carServiceNameIsEmpty: '@GlobalResources.CarServiceNameIsEmpty',
            managerNameIsEmpty: '@GlobalResources.ManagerNameIsEmpty',
            cityIsNotSelected: '@GlobalResources.CityIsNotSelected',
            carServiceAddressEmpty: '@GlobalResources.CarServiceAddressEmpty',
            carServiceEmailIsEmpty: '@GlobalResources.CarServiceEmailIsEmpty',
            carServicePhonesIsEmpty: '@GlobalResources.CarServicePhonesIsEmpty',
        }
    }
</script>
