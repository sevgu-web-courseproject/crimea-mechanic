@using WebUI.ProjectConstants
<script>

    @if (ViewData["Token"] != null)
    {
        <text>
            // добавляем ко всем запросам со страницы токен
            $.ajaxPrefilter(function (options) {
                if (!options.beforeSend) {
                    options.beforeSend = function (xhr) {
                        xhr.setRequestHeader('Authorization', 'Bearer @ViewData["Token"]');
                    }
                }
            });
            window.userToken = '@ViewData["Token"]';
        </text>
    }

    window.resource = {
        urls: {
            webApiRegistrationUserUrl: '@ConstantsUrls.WebApiRegistrationUserUrl',
            webApiRegistrationCarServiceUrl: '@ConstantsUrls.WebApiRegistrationCarServiceUrl',
            webApiGetCitiesUrl: '@ConstantsUrls.WebApiGetCitiesUrl',
            webApiGetCarServicesUrl: '@ConstantsUrls.WebApiGetCarServicesUrl',
            webApiGetPhotoUrl: '@ConstantsUrls.WebApiGetPhotoUrl',
            webApiGetCarServiceCardUrl: '@ConstantsUrls.WebApiGetGetCarServiceCard("carServiceId")',
            webApiGetRegistrationRequestsUrl: '@ConstantsUrls.WebApiGetRegistrationRequestsUrl',
            webApiGetRegistrationRequestsCardUrl: '@ConstantsUrls.WebApiGetRegistrationCardUrl("carServiceId")',
            webApiGetApproveCarServiceUrl: '@ConstantsUrls.WebApiApproveCarServiceUrl("carServiceId")',
            webApiGetRejectCarServiceUrl: '@ConstantsUrls.WebApiRejectCarServiceUrl("carServiceId")',
            webApiGetBlockCarServiceUrl: '@ConstantsUrls.WebApiBlockCarServiceUrl("carServiceId")',

            webUiSignInPageUrl: '@Url.Action("SignIn", "Account")',
            webUiCarServiceCardUrl: '@Url.Action("Card", "CarService")',
            webUiRegistrationRequestCardUrl: '@Url.Action("RegistrationRequestCard", "CarService")'
        }
    }
</script>
